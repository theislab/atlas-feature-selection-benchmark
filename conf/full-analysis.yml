experiment: full-analysis
datasets:
  - name: tinySim
    batch_col: Batch
    query_batches: Batch4
    label_col: Group
    unseen_labels: Group2
    species: Simulation
  - name: tinySim2
    batch_col: Batch
    query_batches: Batch4
    label_col: Group
    unseen_labels: Group2
    species: Simulation
  - name: scIBPancreas
    batch_col: tech
    query_batches: celseq,celseq2
    label_col: celltype
    unseen_labels: activated_stellate
    species: Human
  - name: neurips
    batch_col: batch
    query_batches: s4d1,s4d8,s4d9
    label_col: cell_type
    unseen_labels: "CD8+ T naive,Proerythroblast"
    species: Human
  - name: fetalLiver
    batch_col: fetal.ids
    query_batches: "F16_male_8+1PCW,F33_female_9+5PCW,F45_female_13+6PCW"
    label_col: cell.labels
    unseen_labels: "Kupffer Cell,NK,ILC precursor,Early lymphoid_T lymphocyte"
    species: Human
  - name: reedBreast
    batch_col: donor_id
    query_batches: HBCA_Donor_23,HBCA_Donor_24,HBCA_Donor_25,HBCA_Donor_26,HBCA_Donor_27,HBCA_Donor_28,HBCA_Donor_29,HBCA_Donor_30,HBCA_Donor_31,HBCA_Donor_32,HBCA_Donor_33,HBCA_Donor_50,HBCA_Donor_51,HBCA_Donor_52,HBCA_Donor_53,HBCA_Donor_54,HBCA_Donor_55
    label_col: level2
    unseen_labels: "BSL2","CD8T 1","CD8T 2","CD8T 3","FB5","LEC1","LEC2"
    species: Human
methods:
  - name: all
  - name: random
    settings:
      - n_features: 500
        seed: 1
      - n_features: 1000
        seed: 1
      - n_features: 2000
        seed: 1
      - n_features: 5000
        seed: 1
  - name: scanpy
    settings:
      - flavor: seurat
        n_features: 2000
        batch: "False"
  - name: triku
  - name: hotspot
  - name: scsegindex
  - name: dubstepr
  - name: nbumi
  - name: osca
  - name: seurat
    settings:
      - method: vst
        n_features: 2000
  - name: scry
  - name: singleCellHaystack
  - name: Brennecke
  - name: wilcoxon
  - name: statistic
    settings:
      - statistic: mean
        n_features: 2000
  - name: scPNMF
  - name: anticor
integration:
  seeds:
    - 1
metrics:
  # Integration (batch) metrics
  - name: batchPurity
    type: IntegrationBatch
  - name: mixing
    type: IntegrationBatch
  - name: kBET
    type: IntegrationBatch
  - name: batchPCR
    type: IntegrationBatch
  - name: iLISI
    type: IntegrationBatch
  - name: batchASW
    type: IntegrationBatch
  - name: graphConnectivity
    type: IntegrationBatch
  - name: CMS
    type: IntegrationBatch
  # Integration (bio) metrics
  - name: localStructure
    type: IntegrationBio
  - name: cLISI
    type: IntegrationBio
  - name: ari
    type: IntegrationBio
  - name: bARI
    type: IntegrationBio
  - name: nmi
    type: IntegrationBio
  - name: bNMI
    type: IntegrationBio
  - name: labelASW
    type: IntegrationBio
  - name: isolatedLabelsF1
    type: IntegrationBio
  - name: isolatedLabelsASW
    type: IntegrationBio
  - name: cellCycle
    type: IntegrationBio
  - name: ldfDiff
    type: IntegrationBio
  # Mapping metrics
  - name: mLISI
    type: Mapping
  - name: qLISI
    type: Mapping
  - name: cellDist
    type: Mapping
  - name: labelDist
    type: Mapping
  - name: reconstruction
    type: Mapping
  - name: kNNcorr
    type: Mapping
  # Classification metrics
  - name: accuracy
    type: Classification
  - name: rareAccuracy
    type: Classification
  - name: f1Micro
    type: Classification
  - name: f1Macro
    type: Classification
  - name: f1Rarity
    type: Classification
  - name: jaccardIndexMicro
    type: Classification
  - name: jaccardIndexMacro
    type: Classification
  - name: jaccardIndexRarity
    type: Classification
  - name: MCC
    type: Classification
  - name: AUPRC
    type: Classification
  # Unseen metrics
  - name: unseenCellDist
    type: Unseen
  - name: unseenLabelDist
    type: Unseen
  - name: MILO
    type: Unseen
  - name: uncertainty
    type: Unseen
reports:
  - name: metrics
  - name: integration-variation
